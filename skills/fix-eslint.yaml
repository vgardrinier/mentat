skill:
  id: fix-eslint
  name: Fix ESLint Errors
  description: Auto-fix ESLint errors and warnings
  category: code-quality
  pricing: free
  author: marketplace
  version: 1.0.0

  inputs:
    fix_warnings:
      type: boolean
      required: false
      default: true
      description: Also fix warnings (not just errors)

    rules_to_ignore:
      type: multiselect
      required: false
      description: ESLint rules to skip
      options:
        - no-console
        - no-unused-vars
        - "@typescript-eslint/no-explicit-any"
        - react/prop-types

  context_needed:
    - description: JavaScript/TypeScript files to fix
      pattern: "**/*.{js,jsx,ts,tsx}"
      max_files: 10

  execution:
    - step: for_each
      items: ${context.files}
      as: file
      do:
        - step: read_file
          path: ${file.path}
          save_as: file_content

        - step: analyze_code
          content: ${file_content}
          lint: true
          fix_warnings: ${inputs.fix_warnings}
          ignore_rules: ${inputs.rules_to_ignore}
          save_as: lint_results

        - step: transform
          source: ${file_content}
          operation: apply_fixes
          fixes: ${lint_results.fixes}
          save_as: fixed_content

        - step: write_file
          path: ${file.path}
          content: ${fixed_content}

  validation:
    - check: valid_javascript
      files: ${context.files}

    - check: no_syntax_errors
      files: ${context.files}

  success_message: "âœ“ Fixed ESLint errors in ${context.files.length} file(s)"

  estimated_time: 5
